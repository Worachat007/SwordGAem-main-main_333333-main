
‡∏ô‡∏≤‡∏¢ ‡∏ß‡∏£‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏õ‡∏¥‡∏ï‡∏ï‡∏≤‡∏ô‡∏±‡∏á 673450039-8




‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô (Idle)

<img width="954" height="980" alt="image" src="https://github.com/user-attachments/assets/90d5a6d3-7968-49e9-8468-441a53ee0c52" />


‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô Player_idle ‡πÉ‡∏´‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏™‡πâ‡∏° ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Default State) ‡∏Ç‡∏≠‡∏á Animator ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏î ‡πÜ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô Idle ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß (‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤/‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á)

<img width="907" height="162" alt="image" src="https://github.com/user-attachments/assets/377bbc28-8c07-4172-bec4-2bc3ae059516" />

‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö Player_idle ‡πÇ‡∏î‡∏¢‡∏ó‡∏≥ Transition ‡πÑ‡∏õ-‡∏Å‡∏•‡∏±‡∏ö

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Player_idle ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Move

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏¥‡πà‡∏á ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å Move ‡∏°‡∏≤‡∏¢‡∏±‡∏á Player_idle ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô

‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà

<img width="909" height="391" alt="image" src="https://github.com/user-attachments/assets/7e7ee67e-9aca-4c0a-88d3-991add1dffcc" />


‡πÄ‡∏õ‡∏¥‡∏î Input System ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏° Action ‡πÉ‡∏´‡∏°‡πà:

‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° + ‡∏ó‡∏µ‡πà Actions ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ Action ‡∏ß‡πà‡∏≤ Player ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå Actions ‡πÇ‡∏ú‡∏•‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤

‡πÄ‡∏û‡∏¥‡πà‡∏° Action ‡∏¢‡πà‡∏≠‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Jump ‚Üí Binding ‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° Space ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏° ‡∏•‡∏π‡∏Å‡∏®‡∏£‡∏Ç‡∏∂‡πâ‡∏ô

‡∏™‡∏£‡πâ‡∏≤‡∏á Action ‡πÉ‡∏´‡∏°‡πà‡∏ä‡∏∑‡πà‡∏≠ Move

‡∏Å‡∏≥‡∏´‡∏ô‡∏î Action Type ‡πÄ‡∏õ‡πá‡∏ô Value

‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Control Type ‡πÄ‡∏õ‡πá‡∏ô Any

‡πÄ‡∏û‡∏¥‡πà‡∏° Composite Binding (1D Axis) ‚Üí ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤ LeftRight

Negative = ‡∏õ‡∏∏‡πà‡∏° A

Positive = ‡∏õ‡∏∏‡πà‡∏° D

‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô
GatherInput.cs

public class GatherInput : MonoBehaviour
{
    // Start is called once before the first execution of Update after the MonoBehaviour is create
    private Control myControl;
    public float valueX;
    public bool JumpInput;

    public void Awake()
    {
        myControl = new Control();
    }
    private void OnEnable()
    {
        myControl.Player.Move.performed += StartMove;
        myControl.Player.Move.canceled += StopMove;
        myControl.Player.Jump.performed += JumpStart;
        myControl.Player.Jump.canceled += JumpStope;
        myControl.Player.Enable();
    }
    public void OnDisable()
    {
        myControl.Player.Move.performed -= StartMove;
        myControl.Player.Move.canceled -= StopMove;
        myControl.Player.Jump.performed -= JumpStart;
        myControl.Player.Jump.canceled -= JumpStope;
        myControl.Player.Disable();
        valueX = 0; 
        //myControl.Disable();
    }
    private void StartMove(InputAction.CallbackContext ctx) {
        valueX = ctx.ReadValue<float>();
    }
    private void StopMove(InputAction.CallbackContext ctx) {
        valueX = 0;
    }

‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö Input ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏î ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Event ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°/‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î

PlayerMoveControls.cs

public class PlayerMoveControls : MonoBehaviour
{
    public float speed = 5f;
    private int direction = 1;
    public float jumpForce = 5;
    private bool grounded = false;

    private GatherInput gatherInput;
    private Rigidbody2D Rigidbody2D;
    private Animator animator;
    // Start is called once before the first execution of Update after the MonoBehaviour is created
    void Start()
    {
        gatherInput = GetComponent<GatherInput>();
        Rigidbody2D = GetComponent<Rigidbody2D>();
        animator = GetComponent<Animator>();
    }

    // Update is called once per frame
    void Update()
    {
        CheckStatus();
        SetAnimatorValues();
        Flip();
        Rigidbody2D.linearVelocity = new Vector2(speed * gatherInput.valueX,
            Rigidbody2D.linearVelocity.y);
        JumpPlayer();
    }
    public Transform leftPoint;
    public float rayLength;
    public LayerMask groundLayer;
    private void CheckStatus()
    {
        RaycastHit2D leftCheckHit = Physics2D.Raycast(leftPoint.position,
            Vector2.down, rayLength, groundLayer);
       
        grounded = leftCheckHit;
        // print(grounded);
    }
    private void JumpPlayer() {
        if (gatherInput.JumpInput) {
            Rigidbody2D.linearVelocity = new Vector2(gatherInput.valueX * speed, jumpForce);
        }
        gatherInput.JumpInput = false;
    }
    private void SetAnimatorValues()
    {
        animator.SetFloat("speed", Mathf.Abs(Rigidbody2D.linearVelocityX));
        animator.SetFloat("Vspeed", Rigidbody2D.linearVelocityY);
        animator.SetBool("Ground", grounded);
    }
    /// <summary>
    /// for flip character
    /// </summary>
    private void Flip() {
        if (gatherInput.valueX * direction < 0) {
            //to flip character
            transform.localScale = new Vector3(-transform.localScale.x, 1, 1);
            //update direction
            direction *= -1;
        }
    }
}

‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å GatherInput.cs ‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏à‡∏£‡∏¥‡∏á ‡πÜ ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ã‡πâ‡∏≤‡∏¢ ‡∏Ç‡∏ß‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î

‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ direction ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Sprite

‡∏Ñ‡πà‡∏≤ ‡∏ö‡∏ß‡∏Å = ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏´‡∏±‡∏ô‡∏Ç‡∏ß‡∏≤ (‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏õ‡∏Å‡∏ï‡∏¥)

‡∏Ñ‡πà‡∏≤ ‡∏•‡∏ö = ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏´‡∏±‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ (‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô Scale ‡∏Ç‡∏≠‡∏á‡πÅ‡∏Å‡∏ô X)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Flip() ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÇ‡∏î‡∏¢‡πÅ‡∏Å‡πâ‡∏Ñ‡πà‡∏≤ localScale.x ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏•‡∏ö

‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Update() ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡πÄ‡∏ü‡∏£‡∏° ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå

‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î
‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÉ‡∏ô GatherInput.cs


		//...
    public bool jumpInput;
    
    private void OnEnable()
    {
		    //...
        myControl.Player.Jump.performed += JumpStart;
        myControl.Player.Jump.canceled += JumpStop;

        myControl.Player.Enable();
    } 

    private void OnDisable()
    {
		    //...
        myControl.Player.Jump.performed -= JumpStart;
        myControl.Player.Jump.canceled -= JumpStop;

        myControl.Player.Disable();
    }
   
    private void JumpStart(InputAction.CallbackContext ctx)
    {
        jumpInput = true;
    }
    private void JumpStop(InputAction.CallbackContext ctx)
    {
        jumpInput = false;
    }
}

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÑ‡∏õ‡∏¢‡∏±‡∏á PlayerMoveControls

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÅ‡∏ô‡∏ß‡∏î‡∏¥‡πà‡∏á‡πÉ‡∏ô PlayerMoveControls.cs

public class PlayerMoveControls : MonoBehaviour
{
		//...
    public float jumpForce;
    //...
    private void FixedUpdate()
    {
        Move();
        JumpPlayer();
    }
		//...
    private void JumpPlayer() 
    {
        if (gatherInput.jumpInput)
        {
            rigidbody2D.velocity = new Vector2(gatherInput.valueX * speed, jumpForce);
        }
        gatherInput.jumpInput = false;
    }
}

‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏ï‡∏≤‡∏°‡πÅ‡∏Å‡∏ô Y ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏à‡∏£‡∏¥‡∏á

‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î

<img width="1719" height="422" alt="image" src="https://github.com/user-attachments/assets/ff518e09-40ed-4217-bee6-ee7497e6b3f6" />


‡∏î‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡πâ‡∏•‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà Blend Tree ‡∏Ç‡∏≠‡∏á Animator ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ Blend Type = 1D (‡∏°‡∏¥‡∏ï‡∏¥‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)

‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Speed

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏´‡∏°‡πà‡∏ä‡∏∑‡πà‡∏≠ vSpeed (float) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏ô‡∏ß‡∏î‡∏¥‡πà‡∏á

‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏õ‡∏£‡∏±‡∏ö Blend Tree ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ vSpeed ‡πÄ‡∏õ‡πá‡∏ô Parameter ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° Motion 3 ‡∏Ñ‡πà‡∏≤:

Jump Down

Jump Peak

Jump Up

‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏¢

<img width="341" height="297" alt="image" src="https://github.com/user-attachments/assets/23234ba7-0967-43a8-854c-214e7c110b00" />


PlayerStats.cs

‡∏™‡∏£‡πâ‡∏≤‡∏á Empty Object ‡∏ä‡∏∑‡πà‡∏≠ PlayerStats ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° Polygon Collider 2D ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î Is Trigger ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡∏ô‡πÇ‡∏à‡∏°‡∏ï‡∏µ (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô) ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Layer PlayerStats

‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå PlayerStats.cs:

using UnityEngine;
using System.Collections;

public class PlayerStats : MonoBehaviour
{
    public float maxHealth;
    public float health;

    private bool canTakeDamage = true;

    void Start()
    {
        health = maxHealth; // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÄ‡∏ï‡πá‡∏°
    }

    public void TakeDamage(float damage)
    {
        if(!canTakeDamage) return; // ‡∏ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏±‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°

        health -= damage;
        if(health <= 0)
        {
            // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏¢ ‡∏õ‡∏¥‡∏î Collider ‡πÅ‡∏•‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß
            GetComponent<PolygonCollider2D>().enabled = false;
            GetComponentInParent<GatherInput>().DisableControls();
            Debug.Log("Player is dead");
        }

        StartCoroutine(DamagePrevention());
    }

    private IEnumerator DamagePrevention()
    {
        canTakeDamage = false;
        yield return new WaitForSeconds(0.15f); // ‡∏Å‡∏±‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß 0.15 ‡∏ß‡∏¥
        if (health > 0) canTakeDamage = true;
    }
}


üìå ‡∏™‡∏£‡∏∏‡∏õ

maxHealth = ‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

health = ‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

TakeDamage() = ‡∏´‡∏±‡∏Å‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏°‡∏î ‚Üí ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£

‡πÉ‡∏ä‡πâ Coroutine ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πâ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏£‡∏±‡∏ö‡∏î‡∏≤‡πÄ‡∏°‡∏à ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏´‡∏±‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏£‡∏±‡∏ß ‡πÜ ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏™‡∏µ‡πâ‡∏¢‡∏ß‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠ Player ‡∏ï‡∏≤‡∏¢

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ô GatherInput.cs:

public void DisableControls() 
{
    myControl.Player.Move.performed -= StartMove;
    myControl.Player.Move.canceled -= StopMove;

    myControl.Player.Jump.performed -= JumpStart;
    myControl.Player.Jump.canceled -= JumpStop;

    myControl.Player.Disable();
    valueX = 0;
}

‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Spike (‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏î‡∏≤‡πÄ‡∏°‡∏à)

‡πÄ‡∏û‡∏¥‡πà‡∏° Sprite (‡πÄ‡∏ä‡πà‡∏ô Sword) ‡∏•‡∏á‡πÉ‡∏ô‡∏â‡∏≤‡∏Å ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô Spike

‡πÉ‡∏™‡πà Rigidbody2D ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Body Type = Kinematic

‡πÄ‡∏û‡∏¥‡πà‡∏° Polygon Collider 2D ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î Is Trigger

‡∏™‡∏£‡πâ‡∏≤‡∏á Layer EnemyAttack ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ Spike ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏•‡πÄ‡∏¢‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ

‡πÑ‡∏õ‡∏ó‡∏µ‡πà Project Settings ‚Üí Physics 2D ‚Üí ‡πÉ‡∏´‡πâ PlayerStats ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ä‡∏ô‡∏Å‡∏±‡∏ö EnemyAttack

Spikes.cs
using UnityEngine;

public class Spikes : MonoBehaviour
{
    public float damage = 10f;

    private void OnTriggerEnter2D(Collider2D collision)
    {
        if (collision.CompareTag("PlayerStats"))
        {
            Debug.Log("Player hit by spikes");
            collision.GetComponent<PlayerStats>().TakeDamage(damage);
        }
    }
}


üìå ‡∏™‡∏£‡∏∏‡∏õ

damage = ‡∏Ñ‡πà‡∏≤ Damage ‡∏ó‡∏µ‡πà Spike ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ

‡πÉ‡∏ä‡πâ OnTriggerEnter2D() ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ä‡∏ô‡∏Å‡∏±‡∏ö PlayerStats

‡∏ñ‡πâ‡∏≤ Player ‡∏ä‡∏ô Spike ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å TakeDamage() ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï

‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î (PlayerStats)

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ä‡∏ô Spike ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏•‡∏î‡∏•‡∏á

‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏°‡∏î ‚Üí ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÅ‡∏•‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ Player is dead

‡πÉ‡∏ä‡πâ Coroutine ‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÇ‡∏î‡∏ô Damage ‡∏ã‡πâ‡∏≥‡∏£‡∏±‡∏ß ‡πÜ

‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Console
